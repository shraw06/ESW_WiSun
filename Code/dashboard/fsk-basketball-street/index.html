<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wi-SUN FSK Network Analysis - Basketball Court Street</title>
    <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    
    <style>
        /* Background Animation */
        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        body {
            font-family: 'Open Sans', sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            background-size: 400% 400%;
            animation: gradientMove 15s ease infinite alternate;
            color: #333;
        }

        h1, .section-title, .chart-title, .stat-value, .grade-badge {
            font-family: 'Montserrat', sans-serif;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: #667eea;
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 1.1rem;
        }

        .location-badge {
            display: inline-block;
            margin-top: 15px;
            padding: 8px 20px;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1));
            border: 1px solid #667eea;
            border-radius: 20px;
            color: #667eea;
            font-size: 0.9rem;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* Section */
        .section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            margin-bottom: 25px;
        }

        .section-title {
            color: #667eea;
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }

        /* Grade Cards */
        .grade-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .grade-card {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .grade-location {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 10px;
        }

        .grade-badge {
            font-size: 2rem;
            font-weight: bold;
            padding: 10px;
            border-radius: 8px;
        }

        .grade-A { color: #27ae60; background: #e8f8f5; }
        .grade-B { color: #3498db; background: #ebf5fb; }
        .grade-C { color: #f39c12; background: #fef5e7; }
        .grade-D { color: #e74c3c; background: #fadbd8; }

        /* Chart Grid */
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 25px;
        }

        .chart-container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .chart-title {
            font-size: 1.2rem;
            color: #667eea;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .chart-box {
            width: 100%;
            height: 350px;
        }

        /* Insights */
        .insights-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .insight-card {
            padding: 20px;
            background: #e3f2fd;
            border-left: 4px solid #667eea;
            border-radius: 8px;
        }

        .insight-card h3 {
            color: #1976d2;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .insight-card p {
            color: #0d47a1;
            font-size: 0.95rem;
        }

        .highlight {
            color: #667eea;
            font-weight: 600;
        }

        footer {
            text-align: center;
            padding: 30px;
            color: white;
            font-size: 0.9rem;
        }

        /* Scroll to Top Button */
        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 99;
            font-size: 1.5rem;
            border: none;
            outline: none;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            cursor: pointer;
            padding: 15px 20px;
            border-radius: 50%;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        #scrollToTopBtn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-card, .grade-card, .chart-container, .insight-card {
            animation: fadeIn 0.6s ease-out;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover, .grade-card:hover, .chart-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 25px rgba(0,0,0,0.15);
        }

        @media (max-width: 768px) {
            h1 { font-size: 1.8rem; }
            .chart-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üåê Wi-SUN FSK Network Analysis</h1>
            <p class="subtitle">Basketball Court Street</p>
            <div class="location-badge">üìç IIITH Campus Road ‚Ä¢ Street Level Measurements</div>
        </header>

        <!-- Stats Bar -->
        <div class="stats-bar">
            <div class="stat-card">
                <div class="stat-value">8</div>
                <div class="stat-label">Active Nodes</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">269</div>
                <div class="stat-label">Data Points</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">80m</div>
                <div class="stat-label">Effective Range</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">17.7%</div>
                <div class="stat-label">Avg Packet Loss</div>
            </div>
        </div>

        <!-- Link Quality Grades -->
        <div class="section">
            <h2 class="section-title">Link Quality Grades</h2>
            <div class="grade-grid">
                <div class="grade-card">
                    <div class="grade-location">Location 1</div>
                    <div class="grade-badge grade-C">C</div>
                </div>
                <div class="grade-card">
                    <div class="grade-location">Location 2</div>
                    <div class="grade-badge grade-C">C</div>
                </div>
                <div class="grade-card">
                    <div class="grade-location">Location 3</div>
                    <div class="grade-badge grade-B">B</div>
                </div>
                <div class="grade-card">
                    <div class="grade-location">Location 4</div>
                    <div class="grade-badge grade-B">B</div>
                </div>
                <div class="grade-card">
                    <div class="grade-location">Location 5</div>
                    <div class="grade-badge grade-C">C</div>
                </div>
                <div class="grade-card">
                    <div class="grade-location">Location 6</div>
                    <div class="grade-badge grade-B">B</div>
                </div>
                <div class="grade-card">
                    <div class="grade-location">Location 7</div>
                    <div class="grade-badge grade-D">D</div>
                </div>
                <div class="grade-card">
                    <div class="grade-location">Location 8</div>
                    <div class="grade-badge grade-D">D</div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="section">
            <h2 class="section-title">Network Performance Analysis</h2>
            <div class="chart-grid">
                <div class="chart-container">
                    <div class="chart-title">üì° RSSI Signal Propagation</div>
                    <div id="rssiHeatmap" class="chart-box"></div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">‚ö†Ô∏è Packet Error Rate</div>
                    <div id="perChart" class="chart-box"></div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">üéØ Coverage Probability</div>
                    <div id="coverageChart" class="chart-box"></div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">üìä Signal-to-Noise Ratio</div>
                    <div id="snrChart" class="chart-box"></div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">„Ä∞Ô∏è Signal Jitter (Stability)</div>
                    <div id="jitterChart" class="chart-box"></div>
                </div>

                <div class="chart-container">
                    <div class="chart-title">üõ°Ô∏è Fade Margin Analysis</div>
                    <div id="fadeChart" class="chart-box"></div>
                </div>
            </div>
        </div>

        <!-- Key Findings -->
        <div class="section">
            <h2 class="section-title">üî¨ Key Findings</h2>
            <div class="insights-grid">
                <div class="insight-card">
                    <h3>üìç Optimal Range</h3>
                    <p>Wi-SUN FSK maintains <span class="highlight">reliable connectivity up to ~70m</span> in line-of-sight conditions. Beyond this, coverage probability drops significantly.</p>
                </div>
                <div class="insight-card">
                    <h3>üö´ NLOS Impact</h3>
                    <p>Locations 9-17 experienced <span class="highlight">complete signal loss</span> due to trees and buildings creating non-line-of-sight blockages.</p>
                </div>
                <div class="insight-card">
                    <h3>‚ö° Best Performance</h3>
                    <p>Location 4 achieved <span class="highlight">lowest PER (9.7%)</span> with strong RSSI, making it the optimal node position in this deployment.</p>
                </div>
            </div>
        </div>

        <footer>
            <p><strong>Wi-SUN FSK Network Analysis Dashboard</strong></p>
            <p>IIITH Research Project ‚Ä¢ Basketball Court Street Measurements</p>
        </footer>
    </div>

    <button onclick="scrollToTop()" id="scrollToTopBtn" title="Go to top">‚¨ÜÔ∏è</button>

    <script>
        // Scroll to Top Button
        window.onscroll = function() {scrollFunction()};

        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                document.getElementById("scrollToTopBtn").style.display = "block";
            } else {
                document.getElementById("scrollToTopBtn").style.display = "none";
            }
        }

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        const config = { displayModeBar: false, responsive: true };
        const layout = {
            paper_bgcolor: 'rgba(0,0,0,0)',
            plot_bgcolor: 'rgba(0,0,0,0)',
            font: { family: 'inherit', color: '#555' },
            margin: { t: 30, r: 30, b: 50, l: 60 }
        };

        const locations = ['Loc 1', 'Loc 2', 'Loc 3', 'Loc 4', 'Loc 5', 'Loc 6', 'Loc 7', 'Loc 8'];
        const distances = [0, 10, 20, 30, 40, 50, 60, 70];
        const rssiMean = [-78.9, -82.7, -78.7, -82.3, -82.7, -81.6, -91.0, -88.0];
        const rssiMin = [-83, -87, -85, -87, -88, -84, -95, -93];
        const rssiMax = [-75, -79, -75, -78, -78, -79, -86, -82];
        const snrMean = [8.0, 6.2, 8.9, 7.9, 7.2, 7.7, 2.4, 4.1];
        const per = [24.3, 28.6, 15.6, 9.7, 21.9, 12.5, 12.9, 16.1];
        const coverage = [100, 100, 100, 100, 100, 100, 37, 73.1];
        const jitter = [1.04, 1.42, 2.08, 1.78, 2.08, 1.00, 1.62, 2.28];
        const fadeMargin = [21.1, 17.3, 21.3, 17.7, 17.3, 18.4, 9.0, 12.0];

        // RSSI Signal Propagation
        Plotly.newPlot('rssiHeatmap', [{
            x: distances,
            y: rssiMean,
            type: 'scatter',
            mode: 'lines+markers',
            name: 'Mean RSSI',
            line: { color: '#667eea', width: 3 },
            marker: { size: 10, color: '#667eea' }
        }, {
            x: distances,
            y: rssiMax,
            type: 'scatter',
            mode: 'lines',
            name: 'Max RSSI',
            line: { color: '#27ae60', width: 1, dash: 'dot' }
        }, {
            x: distances,
            y: rssiMin,
            type: 'scatter',
            mode: 'lines',
            name: 'Min RSSI',
            line: { color: '#e74c3c', width: 1, dash: 'dot' },
            fill: 'tonexty',
            fillcolor: 'rgba(102, 126, 234, 0.1)'
        }], {
            ...layout,
            xaxis: { title: 'Distance (m)', gridcolor: '#eee' },
            yaxis: { title: 'RSSI (dBm)', gridcolor: '#eee' },
            showlegend: true,
            legend: { orientation: 'h', y: 1.1 }
        }, config);

        // Packet Error Rate
        Plotly.newPlot('perChart', [{
            x: locations,
            y: per,
            type: 'bar',
            marker: {
                color: per.map(p => p > 20 ? '#e74c3c' : p > 15 ? '#f39c12' : '#27ae60')
            },
            text: per.map(p => p.toFixed(1) + '%'),
            textposition: 'outside'
        }], {
            ...layout,
            xaxis: { title: '' },
            yaxis: { title: 'PER (%)', gridcolor: '#eee' }
        }, config);

        // Coverage Probability
        Plotly.newPlot('coverageChart', [{
            x: locations,
            y: coverage,
            type: 'bar',
            marker: {
                color: coverage.map(c => c === 100 ? '#27ae60' : c > 70 ? '#3498db' : '#e74c3c')
            },
            text: coverage.map(c => c + '%'),
            textposition: 'inside',
            textfont: { color: '#fff' }
        }], {
            ...layout,
            xaxis: { title: '' },
            yaxis: { title: 'Coverage %', gridcolor: '#eee' }
        }, config);

        // SNR Distribution
        Plotly.newPlot('snrChart', [{
            x: locations,
            y: snrMean,
            type: 'bar',
            marker: { color: '#667eea', opacity: 0.8 }
        }, {
            x: locations,
            y: snrMean,
            type: 'scatter',
            mode: 'lines+markers',
            marker: { color: '#764ba2', size: 10 },
            line: { color: '#764ba2', width: 2 }
        }], {
            ...layout,
            xaxis: { title: '' },
            yaxis: { title: 'SNR (dB)', gridcolor: '#eee' },
            showlegend: false
        }, config);

        // Signal Jitter
        Plotly.newPlot('jitterChart', [{
            x: locations,
            y: jitter,
            type: 'scatter',
            mode: 'lines+markers',
            fill: 'tozeroy',
            fillcolor: 'rgba(243, 156, 18, 0.2)',
            line: { color: '#f39c12', width: 3 },
            marker: { size: 10, color: '#f39c12' }
        }], {
            ...layout,
            xaxis: { title: '' },
            yaxis: { title: 'Jitter (dB)', gridcolor: '#eee' }
        }, config);

        // Fade Margin
        Plotly.newPlot('fadeChart', [{
            x: locations,
            y: fadeMargin,
            type: 'bar',
            marker: {
                color: fadeMargin.map(f => f > 15 ? '#27ae60' : f > 10 ? '#f39c12' : '#e74c3c')
            }
        }], {
            ...layout,
            xaxis: { title: '' },
            yaxis: { title: 'Fade Margin (dB)', gridcolor: '#eee' }
        }, config);
    </script>
</body>
</html>